<UserControl x:Class="HospitexDPP.Views.RelationsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Left: Brand list -->
        <Border Grid.Column="0" BorderBrush="#DDDDDD" BorderThickness="1" Margin="4" Padding="8" Background="White">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="{Binding StatusText}" Style="{StaticResource PanelHeaderStyle}" />
                <ListBox Grid.Row="1" ItemsSource="{Binding Brands}"
                         DisplayMemberPath="BrandName"
                         SelectedItem="{Binding SelectedBrand}"
                         BorderThickness="1" BorderBrush="#DDD" Background="Transparent" />
            </Grid>
        </Border>

        <!-- Right: Linked suppliers -->
        <Border Grid.Column="1" BorderBrush="#DDDDDD" BorderThickness="1" Margin="4" Padding="8" Background="White">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <DockPanel Grid.Row="0">
                    <TextBlock Text="{Binding LinkedSuppliersHeader}" Style="{StaticResource PanelHeaderStyle}" VerticalAlignment="Center" />
                    <Button Content="+ Koppla supplier" Command="{Binding LinkSupplierCommand}"
                            HorizontalAlignment="Right" Padding="8,3" Margin="2" />
                </DockPanel>
                <DataGrid Grid.Row="1" ItemsSource="{Binding LinkedSuppliers}" AutoGenerateColumns="False"
                          IsReadOnly="True" HeadersVisibility="Column"
                          SelectedItem="{Binding SelectedRelation}"
                          GridLinesVisibility="Horizontal" BorderThickness="1" BorderBrush="#DDD"
                          CanUserResizeRows="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Supplier" Binding="{Binding SupplierName}" Width="*" />
                        <DataGridTextColumn Header="Plats" Binding="{Binding SupplierLocation}" Width="*" />
                        <DataGridTextColumn Header="Aktiv" Binding="{Binding IsActive}" Width="60" />
                        <DataGridTextColumn Header="Supplier ID" Binding="{Binding SupplierId}" Width="80" />
                    </DataGrid.Columns>
                </DataGrid>
                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,4,0,0">
                    <Button Content="Ta bort koppling" Command="{Binding UnlinkSupplierCommand}" Padding="8,3" Margin="2" />
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
